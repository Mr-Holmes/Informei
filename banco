CREATE DATABASE inforMEI;
USE inforMEI;

CREATE TABLE users(
id INT NOT NULL AUTO_INCREMENT,
email VARCHAR(45) UNIQUE NOT NULL,
password VARCHAR(150) NOT NULL,
name VARCHAR(100) NOT NULL,
CONSTRAINT user_pk PRIMARY KEY (id)
);

CREATE TABLE expenses(
id INT NOT NULL AUTO_INCREMENT,
name VARCHAR(45) NOT NULL,
quantity INT NOT NULL,
valor DECIMAL NOT NULL,
user_id INT NOT NULL,
CONSTRAINT expenses_pk PRIMARY KEY(id),
CONSTRAINT user_fk FOREIGN KEY(user_id) REFERENCES users(id)
);

CREATE TABLE day_expenses(
id INT NOT NULL AUTO_INCREMENT,
date_ DATETIME NOT NULL,
expenses_id INT NOT NULL,
CONSTRAINT day_pk PRIMARY KEY(id),
CONSTRAINT expenses_fk FOREIGN KEY(expenses_id) REFERENCES expenses(id)
);

CREATE TABLE products(
id INT NOT NULL AUTO_INCREMENT,
name VARCHAR(45) NOT NULL,
valor DECIMAL NOT NULL, 
user_id INT NOT NULL,
CONSTRAINT products_pk PRIMARY KEY(id),
CONSTRAINT users_fk FOREIGN KEY(user_id) REFERENCES users(id)
);

CREATE TABLE day_products(
id INT NOT NULL AUTO_INCREMENT,
date_ DATETIME NOT NULL,
quantity INT NOT NULL,
products_id INT NOT NULL,
CONSTRAINT day_pk PRIMARY KEY(id),
CONSTRAINT products_fk FOREIGN KEY (products_id) REFERENCES products(id)
);